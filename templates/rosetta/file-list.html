{% extends "rosetta/base.html" %}
{% load i18n %}

{% block content %}
<h1>{% trans "Translation Files" %}</h1>

{% if has_files %}
  <div class="module">
    <table>
      <thead>
        <tr>
          <th>{% trans "File" %}</th>
          <th>{% trans "Language" %}</th>
          <th>{% trans "Progress" %}</th>
          <th>{% trans "Action" %}</th>
        </tr>
      </thead>
      <tbody>
        {% for file_group in file_groups %}
          {% for file in file_group.files %}
            <tr>
              <td>{{ file.name }}</td>
              <td>{{ file.lang_name }}</td>
              <td>
                <div class="progress">
                  <div class="progress-bar" role="progressbar" 
                      style="width: {{ file.completion }}%;" 
                      aria-valuenow="{{ file.completion }}" 
                      aria-valuemin="0" aria-valuemax="100">
                    {{ file.completion }}%
                  </div>
                </div>
              </td>
              <td>
                <a href="{% url 'rosetta-file-detail' file.id %}">
                  {% trans "Edit" %}
                </a>
              </td>
            </tr>
          {% endfor %}
        {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <p>{% trans "No translation files found." %}</p>
{% endif %}
{% endblock %}
