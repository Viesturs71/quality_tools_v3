{% load i18n %}
<div class="sidebar w-64 h-screen bg-[#FFFFFF] text-[#333333] shadow-md flex flex-col z-40">
  <div class="p-4 text-xl font-bold border-b border-[#EEEEEE]">
    {% trans "Management Tools" %}
  </div>
  <nav class="py-4 flex-1 overflow-y-auto">
    <ul class="space-y-1">
      <!-- Dashboard -->
      <li>
        <a href="{% url 'dashboard:index' %}" class="flex items-center px-4 py-2 hover:bg-[#EEEEEE] rounded">
          <i class="fas fa-tachometer-alt w-5 h-5 mr-2 text-[#336699]"></i>
          <span>{% trans "Dashboard" %}</span>
        </a>
      </li>
      <!-- Documents -->
      <li>
        <a href="#" class="user-app-toggle flex items-center px-4 py-2 hover:bg-[#EEEEEE] rounded">
          <i class="fas fa-file-alt w-5 h-5 mr-2 text-[#336699]"></i>
          <span>{% trans "Documents" %}</span>
          <i class="fas fa-angle-down ml-auto"></i>
        </a>
        <div class="user-models-submenu hidden pl-8 py-2">
          <a href="{% url 'documents:document_list' %}" class="flex items-center px-2 py-1 text-sm hover:underline">
            <i class="fas fa-circle-o w-4 h-4 mr-2"></i>
            <span>{% trans "All Documents" %}</span>
          </a>
          <a href="{% url 'documents:user_documents' %}" class="flex items-center px-2 py-1 text-sm hover:underline">
            <i class="fas fa-circle-o w-4 h-4 mr-2"></i>
            <span>{% trans "My Documents" %}</span>
          </a>
        </div>
      </li>
      <!-- Equipment -->
      <li>
        <a href="#" class="user-app-toggle flex items-center px-4 py-2 hover:bg-[#EEEEEE] rounded">
          <i class="fas fa-tools w-5 h-5 mr-2 text-[#336699]"></i>
          <span>{% trans "Equipment" %}</span>
          <i class="fas fa-angle-down ml-auto"></i>
        </a>
        <div class="user-models-submenu hidden pl-8 py-2">
          <a href="{% url 'equipment:equipment_list' %}" class="flex items-center px-2 py-1 text-sm hover:underline">
            <i class="fas fa-circle-o w-4 h-4 mr-2"></i>
            <span>{% trans "All Equipment" %}</span>
          </a>
          <a href="{% url 'equipment:my_equipment' %}" class="flex items-center px-2 py-1 text-sm hover:underline">
            <i class="fas fa-circle-o w-4 h-4 mr-2"></i>
            <span>{% trans "My Equipment" %}</span>
          </a>
        </div>
      </li>
      <!-- Standards -->
      <li>
        <a href="{% url 'standards:standard_list' %}" class="flex items-center px-4 py-2 hover:bg-[#EEEEEE] rounded">
          <i class="fas fa-book w-5 h-5 mr-2 text-[#336699]"></i>
          <span>{% trans "Standards" %}</span>
        </a>
      </li>
      <!-- Personnel -->
      <li>
        <a href="#" class="user-app-toggle flex items-center px-4 py-2 hover:bg-[#EEEEEE] rounded">
          <i class="fas fa-id-card w-5 h-5 mr-2 text-[#336699]"></i>
          <span>{% trans "Personnel" %}</span>
          <i class="fas fa-angle-down ml-auto"></i>
        </a>
        <div class="user-models-submenu hidden pl-8 py-2">
          <a href="{% url 'personnel:my_profile' %}" class="flex items-center px-2 py-1 text-sm hover:underline">
            <i class="fas fa-circle-o w-4 h-4 mr-2"></i>
            <span>{% trans "My Profile" %}</span>
          </a>
          <a href="{% url 'personnel:my_qualifications' %}" class="flex items-center px-2 py-1 text-sm hover:underline">
            <i class="fas fa-circle-o w-4 h-4 mr-2"></i>
            <span>{% trans "My Qualifications" %}</span>
          </a>
        </div>
      </li>
      <!-- Settings -->
      <li>
        <a href="{% url 'users:settings' %}" class="flex items-center px-4 py-2 hover:bg-[#EEEEEE] rounded">
          <i class="fas fa-cog w-5 h-5 mr-2 text-[#336699]"></i>
          <span>{% trans "Settings" %}</span>
        </a>
      </li>
      <!-- Logout -->
      <li>
        <a href="{% url 'logout' %}" class="flex items-center px-4 py-2 hover:bg-[#EEEEEE] rounded">
          <i class="fas fa-sign-out-alt w-5 h-5 mr-2 text-[#336699]"></i>
          <span>{% trans "Log Out" %}</span>
        </a>
      </li>
    </ul>
  </nav>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    document.querySelectorAll('.user-app-toggle').forEach(function(toggle) {
      toggle.addEventListener('click', function(e) {
        e.preventDefault();
        var submenu = toggle.parentElement.querySelector('.user-models-submenu');
        var icon = toggle.querySelector('.fa-angle-down');
        if (submenu) {
          submenu.classList.toggle('hidden');
          if (icon) {
            icon.style.transform = submenu.classList.contains('hidden') ? 'rotate(0deg)' : 'rotate(180deg)';
          }
        }
      });
    });
  });
</script>